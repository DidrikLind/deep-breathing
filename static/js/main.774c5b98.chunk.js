(this["webpackJsonpdeep-breating"]=this["webpackJsonpdeep-breating"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},56:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(9),o=n.n(i),s=(n(30),n(3)),l=n.p+"static/media/breath_icon.9f23d969.svg",d=n(6),b=n(18),u=n(2),h=n(5),j=(n(31),function(e){var t=e.text,n=e.onClick,c=e.className,r=Object(h.a)(e,["text","onClick","className"]);return Object(a.jsx)("button",Object(u.a)(Object(u.a)({className:"normal-button ".concat(c),onClick:n},r),{},{children:t}))}),O=n.p+"static/media/heart.8e99651c.svg",m=n.p+"static/media/bell_sound.c679b23d.mp3",f=n.p+"static/media/audio_fe4d3bcac9.a379b9b0.mp3",g={breathing:{maxBreath:40,shouldStartBreathHold:!1},breathHold:{pingEveryNthSecond:30}},x=r.a.createContext(g),v=function(e){var t=e.children,n=function(e,t){var n=Object(c.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(a){return console.log(a),t}})),a=Object(s.a)(n,2),r=a[0],i=a[1];return[r,function(t){try{var n=t instanceof Function?t(r):t;i(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(a){console.log(a)}}]}("breathConfig",g),r=Object(s.a)(n,2),i=r[0],o=r[1];return Object(a.jsx)(x.Provider,{value:{maxBreath:i.breathing.maxBreath,setMaxBreath:function(e){return o(Object(u.a)(Object(u.a)({},i),{},{breathing:Object(u.a)(Object(u.a)({},i.breathing),{},{maxBreath:e})}))},shouldStartBreathHold:i.breathing.shouldStartBreathHold,setShouldStartBreathHold:function(e){return o(Object(u.a)(Object(u.a)({},i),{},{breathing:Object(u.a)(Object(u.a)({},i.breathing),{},{shouldStartBreathHold:e})}))},pingEveryNthSecond:i.breathHold.pingEveryNthSecond,setPingEveryNthSecond:function(e){return o(Object(u.a)(Object(u.a)({},i),{},{breathHold:Object(u.a)(Object(u.a)({},i.breathHold),{},{pingEveryNthSecond:e})}))}},children:t})},p=(n(32),function(e){var t=e.runBreathing,n=Object(c.useContext)(x).pingEveryNthSecond,r=Object(c.useState)(!1),i=Object(s.a)(r,2),o=i[0],l=i[1],u=Object(d.a)(m),h=Object(s.a)(u,1)[0],g=Object(d.a)(f,{loop:!0}),v=Object(s.a)(g,2),p=v[0],N=v[1],S=N.stop,w=N.pause,k=Object(b.useStopwatch)({autoStart:!1}),B=k.seconds,C=k.minutes,y=k.hours,E=k.isRunning,H=k.start,P=k.pause,_=k.reset,V=function(){E||(H(),o&&l(!1),h(),p())};return Object(c.useEffect)((function(){t&&!E&&(_(),V())}),[t]),Object(c.useEffect)((function(){E&&0!==B&&B%n===0&&h()}),[B]),Object(a.jsxs)("div",{className:"guided-breath-hold",children:[Object(a.jsx)("h1",{className:"guided-breath-hold-title",children:"Guided Breath-hold"}),Object(a.jsx)("div",{className:"stop-watch",children:Object(a.jsxs)("div",{className:"watch-time-text",children:[Object(a.jsx)("span",{children:y}),":",Object(a.jsx)("span",{children:C}),":",Object(a.jsx)("span",{children:B})]})}),Object(a.jsx)("p",{children:Object(a.jsx)("img",{className:["heart-icon",E&&"heart-icon-animated"].join(" "),src:O,alt:"logo"})}),Object(a.jsx)(j,{className:"".concat(E?"active-button":""),text:"".concat(E?"Started":"Start"),disabled:E,onClick:function(){return V()}}),Object(a.jsx)(j,{className:"".concat(o?"active-button":""),text:"".concat(o?"Paused":"Pause"),disabled:o||!E,onClick:function(){E&&(P(),w(),l(!0))}}),Object(a.jsx)(j,{text:"Reset",disabled:!E&&!o,onClick:function(){(E||o)&&(_(),S(),l(!1))}})]})}),N=n.p+"static/media/zapsplat_human_male_deep_breathing_19843_2.2s.f91a10f9.mp3",S=n.p+"static/media/breathing_session_over.3e8fa907.mp3",w=n.p+"static/media/lungs.e926ca5b.svg",k=(n(33),function(e){var t=e.setRunBreathing,n=Object(c.useContext)(x),r=n.maxBreath,i=n.shouldStartBreathHold,o=Object(c.useState)(!1),l=Object(s.a)(o,2),b=l[0],u=l[1],h=Object(c.useState)(!1),O=Object(s.a)(h,2),m=O[0],f=O[1],g=Object(c.useState)(!1),v=Object(s.a)(g,2),p=v[0],k=v[1],B=Object(c.useState)(0),C=Object(s.a)(B,2),y=C[0],E=C[1],H=Object(d.a)(N,{loop:!0}),P=Object(s.a)(H,2),_=P[0],V=P[1],W=V.stop,M=V.pause,F=Object(d.a)(S,{volume:1}),I=Object(s.a)(F,1)[0];return Object(c.useEffect)((function(){if(b){var e=y>0&&setInterval((function(){return E(y+1)}),2200);return function(){return clearInterval(e)}}}),[y]),Object(c.useEffect)((function(){p&&(I(),setTimeout((function(){return W()}),1e3),i&&(document.querySelector('a[href$="section-breath-hold"]').click(),setTimeout((function(){return t(!0)}),8e3)))}),[p]),b&&y>=r&&(k(!0),u(!1)),Object(a.jsxs)("div",{className:"guided-breathing",children:[Object(a.jsx)("h1",{className:"guided-breathing-title",children:"Guided Breathing"}),Object(a.jsxs)("h2",{className:"guided-breathing-counter",children:[y," / ",r]}),Object(a.jsx)("p",{children:Object(a.jsx)("img",{className:["lung-icon",b&&"lung-icon-animated"].join(" "),src:w,alt:"logo"})}),Object(a.jsx)(j,{className:"".concat(b?"active-button":""),text:"".concat(b?"Started":"Start"),disabled:b,onClick:function(){b||(k(!1),u(!0),E(m?y+1:1),f(!1),t(!1),_())}}),Object(a.jsx)(j,{className:"".concat(m?"active-button":""),text:"".concat(m?"Paused":"Pause"),disabled:m||!b,onClick:function(){b&&(u(!1),f(!0),M())}}),Object(a.jsx)(j,{text:"Reset",onClick:function(){W(),u(!1),f(!1),k(!1),E(0)}})]})}),B=n(19),C=n.n(B),y=(n(52),function(e){var t=e.sectionData;return Object(a.jsx)(C.a,{className:"scroll-spy-thief",items:t.map((function(e){return e.item})),currentClassName:"isCurrent",children:t.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsxs)("a",{href:e.href,children:[Object(a.jsx)("div",{className:"dot"}),Object(a.jsx)("div",{className:"dot-text",children:e.title})]})},e.href)}))})}),E=(n(53),[{title:"Breathing",href:"#section-breathing",item:"section-breation"},{title:"Breath-Hold",href:"#section-breath-hold",item:"section-breath-hold"}]),H=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(y,{sectionData:E}),Object(a.jsxs)("div",{className:"breathing-controller",children:[Object(a.jsx)("section",{id:"section-breathing",children:Object(a.jsx)(k,{setRunBreathing:r})}),Object(a.jsx)("div",{className:"separator"}),Object(a.jsx)("section",{id:"section-breath-hold",children:Object(a.jsx)(p,{runBreathing:n})})]})]})},P=(n(54),n(20)),_=n(23),V=(n(56),function(e){var t=e.number,n=e.setNumber,c=e.minVal,r=void 0===c?10:c,i=e.maxVal,o=void 0===i?20:i,s=e.step,l=void 0===s?1:s,d=e.className,b=Object(h.a)(e,["number","setNumber","minVal","maxVal","step","className"]);return Object(a.jsx)(_.a,Object(u.a)({className:"number-chooser ".concat(d),min:r,max:o,step:l,value:t,onChange:n,enableMobileNumericKeyboard:!0},b))}),W=(n(63),function(e){var t=e.round,n=e.checked,c=e.className,r=Object(h.a)(e,["round","checked","className"]);return Object(a.jsx)("div",{className:"normal-toggle-button",children:Object(a.jsxs)("label",{className:"switch ".concat(c),children:[Object(a.jsx)("input",Object(u.a)(Object(u.a)({type:"checkbox",checked:n},r),{},{readOnly:!0})),Object(a.jsx)("span",{className:"slider ".concat(t?"round":"")})]})})}),M=(n(64),function(e){var t=e.open,n=e.onCloseModal,r=Object(c.useContext)(x),i=r.maxBreath,o=r.setMaxBreath,s=r.shouldStartBreathHold,l=r.setShouldStartBreathHold,d=r.pingEveryNthSecond,b=r.setPingEveryNthSecond;return Object(a.jsx)("div",{className:"breath-config-modal-wrapper",children:Object(a.jsxs)(P.a,{open:t,onClose:n,center:!0,children:[Object(a.jsx)("h2",{children:"Configuration"}),Object(a.jsx)("div",{className:"breath-modal-divider"}),Object(a.jsx)("h3",{children:"Guided Breathing"}),Object(a.jsxs)("div",{className:"breath-modal-max-breath",children:[Object(a.jsx)("label",{children:"Max breath"}),Object(a.jsx)(V,{className:"max-breath-counter",number:i,minVal:10,maxVal:1e3,setNumber:o})]}),Object(a.jsxs)("div",{className:"breath-modal-auto-start-breath-hold",children:[Object(a.jsx)("label",{children:"Auto start breathhold"}),Object(a.jsx)(W,{className:"auto-start-check",checked:s,onClick:function(){return l(!s)}})]}),Object(a.jsx)("h3",{children:"Guided Breath-hold"}),Object(a.jsxs)("div",{className:"breath-modal-ping-every-nth",children:[Object(a.jsx)("label",{children:"Ping every nth second"}),Object(a.jsx)(V,{className:"ping-breath-counter",number:d,minVal:1,maxVal:59,setNumber:b})]})]})})}),F=(n(65),function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)("header",{className:"app-header",children:Object(a.jsx)("img",{className:"header-icon",src:l,onClick:function(){return r(!0)},alt:"logo"})}),Object(a.jsxs)(v,{children:[Object(a.jsx)(H,{}),Object(a.jsx)(M,{open:n,onCloseModal:function(){return r(!1)}})]})]})}),I=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var T=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,68)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(F,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/deep-breathing",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/deep-breathing","/service-worker.js");I?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):R(t,e)}))}}(),T()}},[[66,1,2]]]);
//# sourceMappingURL=main.774c5b98.chunk.js.map