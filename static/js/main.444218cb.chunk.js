(this["webpackJsonpdeep-breating"]=this["webpackJsonpdeep-breating"]||[]).push([[0],{30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},56:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),i=a(9),s=a.n(i),o=(a(30),a(3)),l=a.p+"static/media/breath_icon.9f23d969.svg",d=a(4),b=a(18),h=a(2),u=a(6),j=(a(31),function(e){var t=e.text,a=e.onClick,c=e.className,r=Object(u.a)(e,["text","onClick","className"]);return Object(n.jsx)("button",Object(h.a)(Object(h.a)({className:"normal-button ".concat(c),onClick:a},r),{},{children:t}))}),m=a.p+"static/media/heart.8e99651c.svg",O=a.p+"static/media/bell_sound.c679b23d.mp3",f=a.p+"static/media/Polaris.0cd81f4d.mp3",g=a.p+"static/media/bhs.c43aefa4.mp3",x="SLOW",p="MEDIUM",v="FAST",N={breathing:{maxBreath:40,shouldStartBreathHold:!1,startBreathHoldTime:8,breathingSpeed:p},breathHold:{pingEveryNthSecond:30}},S=r.a.createContext(N),B=function(e){var t=e.children,a=function(e,t){var a=Object(c.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),n=Object(o.a)(a,2),r=n[0],i=n[1];return[r,function(t){try{var a=t instanceof Function?t(r):t;i(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]}("breathConfig",N),r=Object(o.a)(a,2),i=r[0],s=r[1];return Object(n.jsx)(S.Provider,{value:{maxBreath:i.breathing.maxBreath,setMaxBreath:function(e){return s(Object(h.a)(Object(h.a)({},i),{},{breathing:Object(h.a)(Object(h.a)({},i.breathing),{},{maxBreath:e})}))},shouldStartBreathHold:i.breathing.shouldStartBreathHold,setShouldStartBreathHold:function(e){return s(Object(h.a)(Object(h.a)({},i),{},{breathing:Object(h.a)(Object(h.a)({},i.breathing),{},{shouldStartBreathHold:e})}))},pingEveryNthSecond:i.breathHold.pingEveryNthSecond,setPingEveryNthSecond:function(e){return s(Object(h.a)(Object(h.a)({},i),{},{breathHold:Object(h.a)(Object(h.a)({},i.breathHold),{},{pingEveryNthSecond:e})}))},startBreathHoldTime:i.breathing.startBreathHoldTime,setStartBreathHoldTime:function(e){return s(Object(h.a)(Object(h.a)({},i),{},{breathing:Object(h.a)(Object(h.a)({},i.breathing),{},{startBreathHoldTime:e})}))},breathingSpeed:i.breathing.breathingSpeed,setBreathingSpeed:function(e){return s(Object(h.a)(Object(h.a)({},i),{},{breathing:Object(h.a)(Object(h.a)({},i.breathing),{},{breathingSpeed:e})}))}},children:t})},k=(a(32),function(e){var t=e.runBreathing,a=Object(c.useContext)(S).pingEveryNthSecond,r=Object(c.useState)(!1),i=Object(o.a)(r,2),s=i[0],l=i[1],h=Object(d.a)(O,{volume:1}),u=Object(o.a)(h,1)[0],x=Object(d.a)(f,{loop:!0}),p=Object(o.a)(x,2),v=p[0],N=p[1],B=N.stop,k=N.pause,w=Object(d.a)(g),C=Object(o.a)(w,2),y=C[0],H=C[1].duration,E=Object(b.useStopwatch)({autoStart:!1}),T=E.seconds,P=E.minutes,M=E.hours,V=E.isRunning,F=E.start,W=E.pause,_=E.reset,I=function(){V||(s?(l(!1),F(),v()):(y(),setTimeout((function(){F(),v()}),H)))};return Object(c.useEffect)((function(){t&&!V&&(_(),I())}),[t]),Object(c.useEffect)((function(){V&&(T+1)%a===0&&u()}),[T]),Object(n.jsxs)("div",{className:"guided-breath-hold",children:[Object(n.jsx)("h1",{className:"guided-breath-hold-title",children:"Guided Breath-hold"}),Object(n.jsx)("div",{className:"stop-watch",children:Object(n.jsxs)("div",{className:"watch-time-text",children:[Object(n.jsx)("span",{children:M}),":",Object(n.jsx)("span",{children:P}),":",Object(n.jsx)("span",{children:T})]})}),Object(n.jsx)("p",{children:Object(n.jsx)("img",{className:["heart-icon",V&&"heart-icon-animated"].join(" "),src:m,alt:"logo"})}),Object(n.jsx)(j,{className:"".concat(V?"active-button":""),text:"".concat(V?"Started":"Start"),disabled:V,onClick:function(){return I()}}),Object(n.jsx)(j,{className:"".concat(s?"active-button":""),text:"".concat(s?"Paused":"Pause"),disabled:s||!V,onClick:function(){V&&(W(),k(),l(!0))}}),Object(n.jsx)(j,{text:"Reset",disabled:!V&&!s,onClick:function(){(V||s)&&(_(),B(),l(!1))}})]})}),w=a.p+"static/media/breathing_slow_4000.41849fa9.mp3",C=a.p+"static/media/breathing_medium_3000.d3f7dacb.mp3",y=a.p+"static/media/breathing_fast_2500.9261d242.mp3",H=a.p+"static/media/breathingsessionover.a30488f5.mp3",E=a.p+"static/media/lungs.e926ca5b.svg",T=(a(33),function(e){return e===x?w:e===p?C:e===v?y:void 0}),P=function(e){var t=e.setRunBreathing,a=Object(c.useContext)(S),r=a.maxBreath,i=a.shouldStartBreathHold,s=a.startBreathHoldTime,l=a.breathingSpeed,b=Object(c.useState)(!1),h=Object(o.a)(b,2),u=h[0],m=h[1],O=Object(c.useState)(!1),f=Object(o.a)(O,2),g=f[0],x=f[1],p=Object(c.useState)(!1),v=Object(o.a)(p,2),N=v[0],B=v[1],k=Object(c.useState)(0),w=Object(o.a)(k,2),C=w[0],y=w[1],P=Object(d.a)(T(l),{loop:!0,volume:1}),M=Object(o.a)(P,2),V=M[0],F=M[1],W=F.stop,_=F.pause,I=F.duration,A=Object(d.a)(H,{volume:1}),R=Object(o.a)(A,1)[0];Object(c.useEffect)((function(){if(u){var e=C>0&&setInterval((function(){return y(C+1)}),I);return function(){return clearInterval(e)}}}),[C]),Object(c.useEffect)((function(){N&&(R(),setTimeout((function(){return W()}),1e3),i&&(document.querySelector('a[href$="section-breath-hold"]').click(),setTimeout((function(){return t(!0)}),1e3*s)))}),[N]),u&&C>=r&&(B(!0),m(!1));var L=u?{animation:"breathing ".concat(I/1e3,"s ease-out infinite normal")}:{};return Object(n.jsxs)("div",{className:"guided-breathing",children:[Object(n.jsx)("h1",{className:"guided-breathing-title",children:"Guided Breathing"}),Object(n.jsxs)("h2",{className:"guided-breathing-counter",children:[C," / ",r]}),Object(n.jsx)("p",{children:Object(n.jsx)("img",{className:"lung-icon",style:L,src:E,alt:"logo"})}),Object(n.jsx)(j,{className:"".concat(u?"active-button":""),text:"".concat(u?"Started":"Start"),disabled:u,onClick:function(){u||(B(!1),m(!0),y(g?C+1:1),x(!1),t(!1),V())}}),Object(n.jsx)(j,{className:"".concat(g?"active-button":""),text:"".concat(g?"Paused":"Pause"),disabled:g||!u,onClick:function(){u&&(m(!1),x(!0),_())}}),Object(n.jsx)(j,{text:"Reset",onClick:function(){W(),m(!1),x(!1),B(!1),y(0)}})]})},M=a(19),V=a.n(M),F=(a(52),function(e){var t=e.sectionData;return Object(n.jsx)(V.a,{className:"scroll-spy-thief",items:t.map((function(e){return e.item})),currentClassName:"isCurrent",children:t.map((function(e){return Object(n.jsx)("li",{children:Object(n.jsxs)("a",{href:e.href,children:[Object(n.jsx)("div",{className:"dot"}),Object(n.jsx)("div",{className:"dot-text",children:e.title})]})},e.href)}))})}),W=(a(53),[{title:"Breathing",href:"#section-breathing",item:"section-breation"},{title:"Breath-Hold",href:"#section-breath-hold",item:"section-breath-hold"}]),_=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(F,{sectionData:W}),Object(n.jsxs)("div",{className:"breathing-controller",children:[Object(n.jsx)("section",{id:"section-breathing",children:Object(n.jsx)(P,{setRunBreathing:r})}),Object(n.jsx)("div",{className:"separator"}),Object(n.jsx)("section",{id:"section-breath-hold",children:Object(n.jsx)(k,{runBreathing:a})})]})]})},I=(a(54),a(20)),A=a(23),R=(a(56),function(e){var t=e.number,a=e.setNumber,c=e.minVal,r=void 0===c?10:c,i=e.maxVal,s=void 0===i?20:i,o=e.step,l=void 0===o?1:o,d=e.className,b=Object(u.a)(e,["number","setNumber","minVal","maxVal","step","className"]);return Object(n.jsx)(A.a,Object(h.a)({className:"number-chooser ".concat(d),min:r,max:s,step:l,value:t,onChange:a,enableMobileNumericKeyboard:!0},b))}),L=(a(63),function(e){var t=e.round,a=e.checked,c=e.className,r=Object(u.a)(e,["round","checked","className"]);return Object(n.jsx)("div",{className:"normal-toggle-button",children:Object(n.jsxs)("label",{className:"switch ".concat(c),children:[Object(n.jsx)("input",Object(h.a)(Object(h.a)({type:"checkbox",checked:a},r),{},{readOnly:!0})),Object(n.jsx)("span",{className:"slider ".concat(t?"round":"")})]})})}),D=(a(64),function(e){var t=e.open,a=e.onCloseModal,r=Object(c.useContext)(S),i=r.maxBreath,s=r.setMaxBreath,o=r.shouldStartBreathHold,l=r.setShouldStartBreathHold,d=r.pingEveryNthSecond,b=r.setPingEveryNthSecond,h=r.startBreathHoldTime,u=r.setStartBreathHoldTime,j=r.breathingSpeed,m=r.setBreathingSpeed;return Object(n.jsx)("div",{className:"breath-config-modal-wrapper",children:Object(n.jsxs)(I.a,{open:t,onClose:a,center:!0,children:[Object(n.jsx)("h2",{children:"Configuration"}),Object(n.jsx)("div",{className:"breath-modal-divider"}),Object(n.jsx)("h3",{children:"Guided Breathing"}),Object(n.jsxs)("div",{className:"breath-modal-breath-speed",children:[Object(n.jsx)("p",{children:"Breathing speed"}),Object(n.jsx)("input",{type:"radio",onClick:function(){return m(x)},checked:j===x}),Object(n.jsx)("label",{children:"Slow"}),Object(n.jsx)("input",{type:"radio",onClick:function(){return m(p)},checked:j===p}),Object(n.jsx)("label",{children:"Medium"}),Object(n.jsx)("input",{type:"radio",onClick:function(){return m(v)},checked:j===v}),Object(n.jsx)("label",{children:"Fast"})]}),Object(n.jsxs)("div",{className:"breath-modal-max-breath",children:[Object(n.jsx)("label",{children:"Max breath"}),Object(n.jsx)(R,{className:"max-breath-counter",number:i,minVal:10,maxVal:1e3,setNumber:s})]}),Object(n.jsxs)("div",{className:"breath-modal-auto-start-breath-hold",children:[Object(n.jsx)("label",{children:"Auto start breathhold"}),Object(n.jsx)(L,{className:"auto-start-check",checked:o,onClick:function(){return l(!o)}}),o&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{children:"Auto start time"}),Object(n.jsx)(R,{className:"max-breath-counter",number:h,minVal:0,maxVal:100,setNumber:u}),"s"]})]}),Object(n.jsx)("h3",{children:"Guided Breath-hold"}),Object(n.jsxs)("div",{className:"breath-modal-ping-every-nth",children:[Object(n.jsx)("label",{children:"Ping every nth second"}),Object(n.jsx)(R,{className:"ping-breath-counter",number:d,minVal:1,maxVal:59,setNumber:b})]})]})})}),G=(a(65),function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)("header",{className:"app-header",children:Object(n.jsx)("img",{className:"header-icon",src:l,onClick:function(){return r(!0)},alt:"logo"})}),Object(n.jsxs)(B,{children:[Object(n.jsx)(_,{}),Object(n.jsx)(D,{open:a,onCloseModal:function(){return r(!1)}})]})]})}),J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var $=function(e){e&&e instanceof Function&&a.e(4).then(a.bind(null,68)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(G,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/deep-breathing",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/deep-breathing","/service-worker.js");J?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):U(t,e)}))}}(),$()}},[[66,1,2]]]);
//# sourceMappingURL=main.444218cb.chunk.js.map